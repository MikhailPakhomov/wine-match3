import { useEffect, useState } from "react";
import styles from "./topMenuPanel.module.css";
import { EventBus } from "../../game/EventBus";

const TopMenuPanel = () => {
    const [isVisible, setIsVisible] = useState(true);

    useEffect(() => {
        EventBus.on("click", () => {
            setIsVisible(!isVisible);
        });
        return () => {
            EventBus.removeListener("click");
        };
    }, [isVisible]);
    return (
        <div className={`${isVisible ? styles.container : styles.invisible}`}>
            <div className={styles.help}>
                <svg
                    width="28"
                    height="28"
                    viewBox="0 0 28 28"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                >
                    <path
                        d="M14.0006 0.666016C6.63898 0.666016 0.666748 6.63071 0.666748 13.9928C0.666748 21.362 6.63898 27.3337 14.0006 27.3337C21.3662 27.3337 27.3334 21.362 27.3334 13.9928C27.3334 6.63071 21.3662 0.666016 14.0006 0.666016ZM14.9508 21.4122C14.6411 21.6878 14.2822 21.8263 13.8756 21.8263C13.455 21.8263 13.0881 21.6902 12.7748 21.4177C12.4612 21.1456 12.304 20.7646 12.304 20.2752C12.304 19.841 12.4561 19.4756 12.7593 19.1794C13.0625 18.8832 13.4344 18.7352 13.8756 18.7352C14.3098 18.7352 14.6753 18.8832 14.9719 19.1794C15.2681 19.4756 15.4166 19.841 15.4166 20.2752C15.4161 20.7576 15.261 21.1366 14.9508 21.4122ZM18.8123 11.839C18.5744 12.2802 18.2918 12.6606 17.964 12.9814C17.6372 13.3022 17.0495 13.8412 16.2011 14.5992C15.9672 14.813 15.779 15.0008 15.638 15.1624C15.4969 15.3245 15.3915 15.4725 15.3227 15.6071C15.2534 15.7416 15.2003 15.8761 15.1626 16.0106C15.1249 16.1446 15.0682 16.3811 14.9914 16.7189C14.8609 17.4357 14.4508 17.794 13.7616 17.794C13.4032 17.794 13.1021 17.6771 12.8566 17.4426C12.6121 17.2082 12.4902 16.8604 12.4902 16.3986C12.4902 15.8199 12.58 15.3184 12.7592 14.8943C12.9374 14.4701 13.1759 14.0982 13.472 13.7775C13.7687 13.4567 14.1682 13.0762 14.6717 12.635C15.1129 12.249 15.4316 11.9579 15.6279 11.7616C15.8246 11.5648 15.9898 11.346 16.1238 11.105C16.2589 10.8636 16.3251 10.6021 16.3251 10.3195C16.3251 9.76787 16.1209 9.30307 15.7103 8.9241C15.3002 8.54513 14.7711 8.35537 14.1231 8.35537C13.3646 8.35537 12.8065 8.54661 12.4481 8.9291C12.0897 9.31159 11.787 9.87476 11.5385 10.6192C11.3036 11.3982 10.8589 11.7877 10.2048 11.7877C9.81881 11.7877 9.49307 11.6517 9.22754 11.3796C8.9625 11.1075 8.82998 10.8129 8.82998 10.4957C8.82998 9.84111 9.04031 9.17753 9.46046 8.50542C9.88111 7.83332 10.4945 7.27663 11.3011 6.83591C12.1072 6.3947 13.0484 6.17381 14.1231 6.17381C15.1225 6.17381 16.0044 6.35851 16.7694 6.72748C17.5343 7.09589 18.1256 7.59737 18.5427 8.2318C18.9594 8.86574 19.1682 9.55495 19.1682 10.2994C19.1691 10.8842 19.0502 11.3977 18.8123 11.839Z"
                        fill="#4299FF"
                    />
                </svg>
            </div>
            <div className={styles.topPanelItemContainer}>
                <div className={styles.topPanelItemText}>100</div>
                <div className={styles.topPanelIcon}>
                    <svg
                        width="21"
                        height="20"
                        viewBox="0 0 21 20"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                    >
                        <path
                            d="M15.6666 2V0H5.66663V2H0.666626V9C0.666626 10.1 1.56663 11 2.66663 11H5.76663C5.9638 11.9603 6.43841 12.8417 7.13165 13.535C7.82488 14.2282 8.70628 14.7028 9.66663 14.9V17.08C6.66663 17.54 6.66663 20 6.66663 20H14.6666C14.6666 20 14.6666 17.54 11.6666 17.08V14.9C12.627 14.7028 13.5084 14.2282 14.2016 13.535C14.8948 12.8417 15.3694 11.9603 15.5666 11H18.6666C19.7666 11 20.6666 10.1 20.6666 9V2H15.6666ZM2.66663 9V4H5.66663V9H2.66663ZM18.6666 9H15.6666V4H18.6666V9Z"
                            fill="#4299FF"
                        />
                    </svg>
                </div>
            </div>

            <div className={styles.topPanelItemContainer}>
                <div className={styles.topPanelItemText}>100</div>
                <div className={styles.topPanelIcon}>
                    <svg
                        width="18"
                        height="20"
                        viewBox="0 0 18 20"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                    >
                        <path
                            d="M15.6103 3.25844C14.4787 1.31875 12.93 0.25 11.25 0.25H6.75C5.07 0.25 3.52125 1.31875 2.38969 3.25844C1.33219 5.07062 0.75 7.46875 0.75 10C0.75 12.5312 1.33219 14.9294 2.38969 16.7416C3.52125 18.6812 5.07 19.75 6.75 19.75H11.25C12.93 19.75 14.4787 18.6812 15.6103 16.7416C16.6678 14.9294 17.25 12.5312 17.25 10C17.25 7.46875 16.6678 5.07062 15.6103 3.25844ZM15.7303 9.25H12.7303C12.6717 7.71096 12.3653 6.19145 11.8228 4.75H14.6906C15.2644 6.00437 15.6431 7.5625 15.7303 9.25ZM13.7991 3.25H11.1056C10.7924 2.70655 10.4146 2.2029 9.98063 1.75H11.25C12.1875 1.75 13.0688 2.3125 13.7991 3.25ZM11.25 18.25H9.98344C10.4174 17.7971 10.7952 17.2935 11.1084 16.75H13.8019C13.0688 17.6875 12.1875 18.25 11.25 18.25ZM14.6906 15.25H11.8237C12.3662 13.8085 12.6727 12.289 12.7313 10.75H15.7313C15.6431 12.4375 15.2644 13.9956 14.6906 15.25Z"
                            fill="#4299FF"
                        />
                    </svg>
                </div>
            </div>

            <div className={styles.topPanelItemContainer}>
                <div className={styles.topPanelIcon}>
                    <svg
                        width="21"
                        height="19"
                        viewBox="0 0 21 19"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                    >
                        <path
                            d="M10.3333 18.3249C10.0999 18.3249 9.86259 18.2832 9.62125 18.1999C9.37992 18.1166 9.16725 17.9832 8.98325 17.7999L7.25825 16.2249C5.49159 14.6082 3.89559 13.0042 2.47025 11.4129C1.04492 9.82157 0.332586 8.06724 0.333252 6.1499C0.333252 4.58324 0.858253 3.2749 1.90825 2.2249C2.95825 1.1749 4.26659 0.649902 5.83325 0.649902C6.71659 0.649902 7.54992 0.837235 8.33325 1.2119C9.11659 1.58657 9.78325 2.09924 10.3333 2.7499C10.8833 2.0999 11.5499 1.58757 12.3333 1.2129C13.1166 0.838236 13.9499 0.650569 14.8333 0.649902C16.3999 0.649902 17.7083 1.1749 18.7583 2.2249C19.8083 3.2749 20.3333 4.58324 20.3333 6.1499C20.3333 8.06657 19.6249 9.8249 18.2083 11.4249C16.7916 13.0249 15.1833 14.6332 13.3833 16.2499L11.6833 17.7999C11.4999 17.9832 11.2876 18.1166 11.0463 18.1999C10.8049 18.2832 10.5673 18.3249 10.3333 18.3249Z"
                            fill="#4299FF"
                        />
                    </svg>
                </div>
                <div className={styles.topPanelItemText}>3</div>
                <div className={styles.plusIcon}>
                    <svg
                        width="23"
                        height="22"
                        viewBox="0 0 23 22"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                    >
                        <rect
                            x="3.16663"
                            y="3"
                            width="16"
                            height="16"
                            rx="8"
                            fill="#4299FF"
                        />
                        <rect
                            x="1.66663"
                            y="1.5"
                            width="19"
                            height="19"
                            rx="9.5"
                            stroke="#4299FF"
                            stroke-opacity="0.5"
                            stroke-width="3"
                        />
                        <path
                            d="M15.0338 9.76562V11.4609H7.23694V9.76562H15.0338ZM12.0494 6.57812V14.8594H10.2291V6.57812H12.0494Z"
                            fill="white"
                        />
                    </svg>
                </div>
            </div>
        </div>
    );
};

export default TopMenuPanel;
